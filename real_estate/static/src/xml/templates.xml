<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="property_listing" name="Property Listing">
        <t t-call="web.layout">
            <t t-set="title">Real Estate Properties</t>
            <!-- Hero Section -->
            <div class="hero-section bg-primary text-white py-5">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-6">
                            <h1 class="display-4 font-weight-bold">Find Your Dream Property</h1>
                            <p class="lead">Discover the perfect home from our comprehensive collection of premium properties.</p>
                            <div class="input-group mt-4">
                                <input type="text" id="property-search" placeholder="Search properties..." class="form-control form-control-lg"/>
                                <div class="input-group-append">
                                    <span class="input-group-text bg-white"><i class="fa fa-search text-primary"></i></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 text-center">
                            <i class="fa fa-home fa-5x text-white-50"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Features Section -->
            <div class="features-section py-5 bg-light">
                <div class="container">
                    <div class="row text-center mb-5">
                        <div class="col-12">
                            <h2 class="text-primary">Why Choose Our Properties?</h2>
                            <p class="lead">We offer comprehensive property management solutions</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 mb-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body text-center">
                                    <i class="fa fa-search fa-3x text-primary mb-3"></i>
                                    <h5 class="card-title">Easy Property Search</h5>
                                    <p class="card-text">Find properties that match your criteria with our advanced search and filtering options.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body text-center">
                                    <i class="fa fa-file-contract fa-3x text-success mb-3"></i>
                                    <h5 class="card-title">Seamless Contracts</h5>
                                    <p class="card-text">Streamlined rental and sales contracts with automated invoicing and billing.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body text-center">
                                    <i class="fa fa-calendar-check fa-3x text-info mb-3"></i>
                                    <h5 class="card-title">Availability at a Glance</h5>
                                    <p class="card-text">Visual calendar view showing property availability and booking schedules.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Properties Section -->
            <div class="properties-section py-5">
                <div class="container">
                    <div class="row mb-4">
                        <div class="col-12">
                            <h2 class="text-center text-primary mb-4">Available Properties</h2>
                        </div>
                    </div>
                    <div class="row property-list">
                        <t t-foreach="properties" t-as="property">
                            <div class="col-lg-4 col-md-6 mb-4 property-item">
                                <div class="card h-100 shadow-sm property-card">
                                    <div class="card-img-top bg-secondary text-white d-flex align-items-center justify-content-center position-relative" style="height: 200px;">
                                        <i class="fa fa-home fa-3x"></i>
                                        <span class="badge badge-<t t-esc="property.state == 'sold' and 'danger' or property.state == 'offer_received' and 'warning' or 'success'"/> position-absolute" style="top: 10px; right: 10px;">
                                            <t t-esc="property.state"/>
                                        </span>
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title"><t t-esc="property.name"/></h5>
                                        <h6 class="card-subtitle mb-2 text-success">
                                            <i class="fa fa-euro-sign"></i> <t t-esc="property.expected_price"/> <t t-esc="property.currency_id.name"/>
                                        </h6>
                                        <div class="row text-muted small mb-3">
                                            <div class="col-6">
                                                <i class="fa fa-bed"></i> <t t-esc="property.bedrooms"/> beds
                                            </div>
                                            <div class="col-6">
                                                <i class="fa fa-expand"></i> <t t-esc="property.living_area"/> sqm
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <span class="badge badge-light mr-1"><i class="fa fa-map-marker"></i> <t t-esc="property.postcode"/></span>
                                            <t t-if="property.garden">
                                                <span class="badge badge-success mr-1"><i class="fa fa-tree"></i> Garden</span>
                                            </t>
                                            <t t-if="property.garage">
                                                <span class="badge badge-info"><i class="fa fa-car"></i> Garage</span>
                                            </t>
                                        </div>
                                        <button class="btn btn-outline-primary btn-sm toggle-details w-100">View Details</button>
                                        <div class="details mt-3" style="display: none;">
                                            <p class="mb-2"><strong>Description:</strong> <t t-esc="property.description"/></p>
                                            <p class="mb-2"><strong>Available:</strong> <t t-esc="property.date_availability"/></p>
                                            <p class="mb-0"><strong>Facades:</strong> <t t-esc="property.facades"/></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </div>
                </div>
            </div>

            <!-- Stats Section -->
            <div class="stats-section bg-primary text-white py-5">
                <div class="container">
                    <div class="row text-center">
                        <div class="col-md-3 mb-4">
                            <h3 class="display-4 font-weight-bold"><t t-esc="len(properties)"/></h3>
                            <p class="mb-0">Properties Available</p>
                        </div>
                        <div class="col-md-3 mb-4">
                            <h3 class="display-4 font-weight-bold">24/7</h3>
                            <p class="mb-0">Support Available</p>
                        </div>
                        <div class="col-md-3 mb-4">
                            <h3 class="display-4 font-weight-bold">100%</h3>
                            <p class="mb-0">Satisfaction Rate</p>
                        </div>
                        <div class="col-md-3 mb-4">
                            <h3 class="display-4 font-weight-bold">5â˜…</h3>
                            <p class="mb-0">Customer Rating</p>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <template id="property_detail" name="Property Detail">
        <t t-call="web.layout">
            <t t-set="title"><t t-esc="property.name"/></t>
            <!-- Property Header -->
            <div class="property-header bg-primary text-white py-4">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <h1 class="mb-2"><t t-esc="property.name"/></h1>
                            <p class="mb-0 lead"><i class="fa fa-map-marker"></i> <t t-esc="property.postcode"/></p>
                        </div>
                        <div class="col-md-4 text-md-right">
                            <h3 class="text-success mb-0">
                                <i class="fa fa-euro-sign"></i> <t t-esc="property.expected_price"/> <t t-esc="property.currency_id.name"/>
                            </h3>
                            <span class="badge badge-<t t-esc="property.state == 'sold' and 'danger' or property.state == 'offer_received' and 'warning' or 'secondary'"/>">
                                <t t-esc="property.state"/>
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container-fluid bg-light py-5">
                <div class="container">
                    <div class="row">
                        <!-- Main Content -->
                        <div class="col-lg-8">
                            <!-- Image Gallery -->
                            <div class="card shadow mb-4">
                                <div class="card-img-top bg-secondary text-white d-flex align-items-center justify-content-center position-relative" style="height: 400px;">
                                    <i class="fa fa-home fa-5x"></i>
                                    <div class="position-absolute" style="bottom: 20px; left: 20px;">
                                        <span class="badge badge-light mr-2"><i class="fa fa-camera"></i> 1/5</span>
                                        <button class="btn btn-light btn-sm"><i class="fa fa-chevron-left"></i></button>
                                        <button class="btn btn-light btn-sm"><i class="fa fa-chevron-right"></i></button>
                                    </div>
                                </div>
                            </div>

                            <!-- Property Details -->
                            <div class="card shadow mb-4">
                                <div class="card-header bg-white">
                                    <h4 class="mb-0"><i class="fa fa-info-circle text-primary"></i> Property Details</h4>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="media mb-3">
                                                <i class="fa fa-bed fa-2x text-muted mr-3"></i>
                                                <div class="media-body">
                                                    <h6 class="mt-0">Bedrooms</h6>
                                                    <p class="mb-0"><t t-esc="property.bedrooms"/> bedrooms</p>
                                                </div>
                                            </div>
                                            <div class="media mb-3">
                                                <i class="fa fa-expand fa-2x text-muted mr-3"></i>
                                                <div class="media-body">
                                                    <h6 class="mt-0">Living Area</h6>
                                                    <p class="mb-0"><t t-esc="property.living_area"/> sqm</p>
                                                </div>
                                            </div>
                                            <div class="media mb-3">
                                                <i class="fa fa-calendar fa-2x text-muted mr-3"></i>
                                                <div class="media-body">
                                                    <h6 class="mt-0">Available From</h6>
                                                    <p class="mb-0"><t t-esc="property.date_availability"/></p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="media mb-3">
                                                <i class="fa fa-tree fa-2x text-muted mr-3"></i>
                                                <div class="media-body">
                                                    <h6 class="mt-0">Garden</h6>
                                                    <p class="mb-0">
                                                        <t t-esc="property.garden and 'Yes' or 'No'"/>
                                                        <t t-if="property.garden"> (<t t-esc="property.garden_area"/> sqm, <t t-esc="property.garden_orientation"/>)</t>
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="media mb-3">
                                                <i class="fa fa-car fa-2x text-muted mr-3"></i>
                                                <div class="media-body">
                                                    <h6 class="mt-0">Garage</h6>
                                                    <p class="mb-0"><t t-esc="property.garage and 'Yes' or 'No'"/></p>
                                                </div>
                                            </div>
                                            <div class="media mb-3">
                                                <i class="fa fa-building fa-2x text-muted mr-3"></i>
                                                <div class="media-body">
                                                    <h6 class="mt-0">Facades</h6>
                                                    <p class="mb-0"><t t-esc="property.facades"/></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Description -->
                            <div class="card shadow mb-4">
                                <div class="card-header bg-white">
                                    <h4 class="mb-0"><i class="fa fa-file-text text-primary"></i> Description</h4>
                                </div>
                                <div class="card-body">
                                    <p><t t-esc="property.description"/></p>
                                </div>
                            </div>

                            <!-- Availability Calendar -->
                            <div class="card shadow mb-4">
                                <div class="card-header bg-white">
                                    <h4 class="mb-0"><i class="fa fa-calendar-check text-primary"></i> Availability</h4>
                                </div>
                                <div class="card-body">
                                    <div class="calendar-placeholder bg-light p-4 text-center">
                                        <i class="fa fa-calendar fa-3x text-muted mb-3"></i>
                                        <h5>Property Availability Calendar</h5>
                                        <p>Interactive calendar showing booking schedules and availability</p>
                                        <small class="text-muted">Calendar integration would be implemented here</small>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Sidebar -->
                        <div class="col-lg-4">
                            <!-- Quick Info -->
                            <div class="card shadow mb-4">
                                <div class="card-header bg-white">
                                    <h5 class="mb-0"><i class="fa fa-list text-primary"></i> Quick Info</h5>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group list-group-flush">
                                        <li class="list-group-item d-flex justify-content-between">
                                            <span><i class="fa fa-bed"></i> Bedrooms</span>
                                            <strong><t t-esc="property.bedrooms"/></strong>
                                        </li>
                                        <li class="list-group-item d-flex justify-content-between">
                                            <span><i class="fa fa-expand"></i> Area</span>
                                            <strong><t t-esc="property.living_area"/> sqm</strong>
                                        </li>
                                        <li class="list-group-item d-flex justify-content-between">
                                            <span><i class="fa fa-tree"></i> Garden</span>
                                            <strong><t t-esc="property.garden and 'Yes' or 'No'"/></strong>
                                        </li>
                                        <li class="list-group-item d-flex justify-content-between">
                                            <span><i class="fa fa-car"></i> Garage</span>
                                            <strong><t t-esc="property.garage and 'Yes' or 'No'"/></strong>
                                        </li>
                                        <li class="list-group-item d-flex justify-content-between">
                                            <span><i class="fa fa-building"></i> Facades</span>
                                            <strong><t t-esc="property.facades"/></strong>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Pricing -->
                            <div class="card shadow mb-4">
                                <div class="card-header bg-white">
                                    <h5 class="mb-0"><i class="fa fa-euro-sign text-success"></i> Pricing</h5>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <small class="text-muted">Expected Price</small>
                                        <h4 class="text-success mb-0"><t t-esc="property.expected_price"/> <t t-esc="property.currency_id.name"/></h4>
                                    </div>
                                    <t t-if="property.selling_price">
                                        <div class="mb-3">
                                            <small class="text-muted">Selling Price</small>
                                            <h5 class="text-info mb-0"><t t-esc="property.selling_price"/> <t t-esc="property.currency_id.name"/></h5>
                                        </div>
                                    </t>
                                    <hr>
                                    <small class="text-muted">Contact us for financing options and payment plans</small>
                                </div>
                            </div>

                            <!-- Contact Actions -->
                            <div class="card shadow mb-4">
                                <div class="card-body">
                                    <button class="btn btn-success btn-block mb-2">
                                        <i class="fa fa-phone"></i> Contact Agent
                                    </button>
                                    <button class="btn btn-outline-primary btn-block mb-2">
                                        <i class="fa fa-calendar"></i> Schedule Viewing
                                    </button>
                                    <button class="btn btn-outline-secondary btn-block">
                                        <i class="fa fa-share"></i> Share Property
                                    </button>
                                </div>
                            </div>

                            <!-- Back to List -->
                            <div class="mt-3">
                                <a href="/real_estate/properties" class="btn btn-primary btn-block">
                                    <i class="fa fa-arrow-left"></i> Back to Properties
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>
</odoo>